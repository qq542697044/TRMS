{"remainingRequest":"E:\\Github\\code\\TRMS\\node_modules\\babel-loader\\lib\\index.js!E:\\Github\\code\\TRMS\\src\\store\\moudels\\login.js","dependencies":[{"path":"E:\\Github\\code\\TRMS\\src\\store\\moudels\\login.js","mtime":1584620840813},{"path":"E:\\Github\\code\\TRMS\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Github\\code\\TRMS\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCB7IExvZ2luIH0gZnJvbSAiQC9hcGkvbG9naW4iOwppbXBvcnQgeyBzZXRUb2tlbiwgc2V0dXNlckxvYywgc2V0dXNlck5hbWUsIGdldHVzZXJOYW1lLCBnZXR1c2VyTG9jIH0gZnJvbSAiLi4vLi4vdXRpbHMvY29va2llIjsKaW1wb3J0IHsgc2V0IH0gZnJvbSAiY29va2llX2pzIjsgLy/nmbvlvZXmqKHlnZcKCnZhciBzdGF0ZSA9IHsKICB0b0tlbjogIiIsCiAgdXNlck5hbWU6IGdldHVzZXJOYW1lKCkgfHwgIiIsCiAgdXNlckxvYzogZ2V0dXNlckxvYygpIHx8ICIiLAogIG1vZHVsZTogIiIKfTsKdmFyIG11dGF0aW9ucyA9IHsKICBTRVRfVE9LRU46IGZ1bmN0aW9uIFNFVF9UT0tFTihzdGF0ZSwgdmFsdWUpIHsKICAgIHN0YXRlLnRvS2VuID0gdmFsdWU7CiAgfSwKICBTRVRfVVNFUk5BTUU6IGZ1bmN0aW9uIFNFVF9VU0VSTkFNRShzdGF0ZSwgdmFsdWUpIHsKICAgIHN0YXRlLnVzZXJOYW1lID0gdmFsdWU7CiAgfSwKICBTRVRfVVNFUkxPQzogZnVuY3Rpb24gU0VUX1VTRVJMT0Moc3RhdGUsIHZhbHVlKSB7CiAgICBzdGF0ZS51c2VyTG9jID0gdmFsdWU7CiAgfSwKICBTRVRfTU9EVUxFOiBmdW5jdGlvbiBTRVRfTU9EVUxFKHN0YXRlLCB2YWx1ZSkgewogICAgc3RhdGUubW9kdWxlID0gdmFsdWU7CiAgfQp9Owp2YXIgYWN0aW9ucyA9IHsKICBsb2dpbjogZnVuY3Rpb24gbG9naW4oY29udGVudCwgcmVxdWVzdERhdGEpIHsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIC8v5o6l5Y+jCiAgICAgIExvZ2luKHJlcXVlc3REYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHZhciBkYXRhID0gcmVzcG9uc2UuZGF0YS5kYXRhOwogICAgICAgIGNvbnRlbnQuY29tbWl0KCJTRVRfVVNFUk5BTUUiLCByZXF1ZXN0RGF0YS51c2VyTmFtZSk7CiAgICAgICAgY29udGVudC5jb21taXQoIlNFVF9UT0tFTiIsIGRhdGEudG9rZW4pOwogICAgICAgIGNvbnRlbnQuY29tbWl0KCJTRVRfVVNFUkxPQyIsIGRhdGEudXNlckxvYyk7CiAgICAgICAgc2V0VG9rZW4oZGF0YS50b2tlbik7CiAgICAgICAgc2V0dXNlckxvYyhkYXRhLnVzZXJMb2MpOwogICAgICAgIHNldHVzZXJOYW1lKHJlcXVlc3REYXRhLnVzZXJOYW1lKTsKICAgICAgICByZXNvbHZlKHJlc3BvbnNlKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgcmVqZWN0KGVycm9yKTsKICAgICAgfSk7CiAgICB9KTsKICB9LAogIHNldE1vZHVsZTogZnVuY3Rpb24gc2V0TW9kdWxlKGNvbnRlbnQsIHZhbHVlKSB7CiAgICByZXR1cm4gY29udGVudC5jb21taXQoIlNFVF9NT0RVTEUiLCB2YWx1ZSk7CiAgfQp9OwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZXNwYWNlZDogdHJ1ZSwKICBhY3Rpb25zOiBhY3Rpb25zLAogIHN0YXRlOiBzdGF0ZSwKICBtdXRhdGlvbnM6IG11dGF0aW9ucwp9Ow=="},{"version":3,"sources":["E:/Github/code/TRMS/src/store/moudels/login.js"],"names":["Login","setToken","setuserLoc","setuserName","getuserName","getuserLoc","set","state","toKen","userName","userLoc","module","mutations","SET_TOKEN","value","SET_USERNAME","SET_USERLOC","SET_MODULE","actions","login","content","requestData","Promise","resolve","reject","then","response","data","commit","token","catch","error","setModule","namespaced"],"mappings":";AAAA,SAASA,KAAT,QAAsB,aAAtB;AACA,SACIC,QADJ,EAEIC,UAFJ,EAGIC,WAHJ,EAIIC,WAJJ,EAKIC,UALJ,QAMO,oBANP;AAOA,SAAQC,GAAR,QAAmB,WAAnB,C,CAEA;;AACA,IAAMC,KAAK,GAAG;AACVC,EAAAA,KAAK,EAAE,EADG;AAEVC,EAAAA,QAAQ,EAAEL,WAAW,MAAM,EAFjB;AAGVM,EAAAA,OAAO,EAAEL,UAAU,MAAM,EAHf;AAIVM,EAAAA,MAAM,EAAE;AAJE,CAAd;AAOA,IAAMC,SAAS,GAAG;AACdC,EAAAA,SADc,qBACJN,KADI,EACGO,KADH,EACU;AACpBP,IAAAA,KAAK,CAACC,KAAN,GAAcM,KAAd;AACH,GAHa;AAIdC,EAAAA,YAJc,wBAIDR,KAJC,EAIMO,KAJN,EAIa;AACvBP,IAAAA,KAAK,CAACE,QAAN,GAAiBK,KAAjB;AACH,GANa;AAOdE,EAAAA,WAPc,uBAOFT,KAPE,EAOKO,KAPL,EAOY;AACtBP,IAAAA,KAAK,CAACG,OAAN,GAAgBI,KAAhB;AACH,GATa;AAUdG,EAAAA,UAVc,sBAUHV,KAVG,EAUIO,KAVJ,EAUW;AACrBP,IAAAA,KAAK,CAACI,MAAN,GAAeG,KAAf;AACH;AAZa,CAAlB;AAeA,IAAMI,OAAO,GAAG;AACZC,EAAAA,KADY,iBACNC,OADM,EACGC,WADH,EACgB;AACxB,WAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpC;AACAxB,MAAAA,KAAK,CAACqB,WAAD,CAAL,CACKI,IADL,CACU,UAAAC,QAAQ,EAAI;AACd,YAAIC,IAAI,GAAGD,QAAQ,CAACC,IAAT,CAAcA,IAAzB;AACAP,QAAAA,OAAO,CAACQ,MAAR,CAAe,cAAf,EAA+BP,WAAW,CAACZ,QAA3C;AACAW,QAAAA,OAAO,CAACQ,MAAR,CAAe,WAAf,EAA4BD,IAAI,CAACE,KAAjC;AACAT,QAAAA,OAAO,CAACQ,MAAR,CAAe,aAAf,EAA8BD,IAAI,CAACjB,OAAnC;AACAT,QAAAA,QAAQ,CAAC0B,IAAI,CAACE,KAAN,CAAR;AACA3B,QAAAA,UAAU,CAACyB,IAAI,CAACjB,OAAN,CAAV;AACAP,QAAAA,WAAW,CAACkB,WAAW,CAACZ,QAAb,CAAX;AACAc,QAAAA,OAAO,CAACG,QAAD,CAAP;AACH,OAVL,EAWKI,KAXL,CAWW,UAAAC,KAAK,EAAI;AACZP,QAAAA,MAAM,CAACO,KAAD,CAAN;AACH,OAbL;AAcH,KAhBM,CAAP;AAiBH,GAnBW;AAoBZC,EAAAA,SApBY,qBAoBFZ,OApBE,EAoBON,KApBP,EAoBc;AACtB,WAAOM,OAAO,CAACQ,MAAR,CAAe,YAAf,EAA6Bd,KAA7B,CAAP;AACH;AAtBW,CAAhB;AAyBA,eAAe;AACXmB,EAAAA,UAAU,EAAE,IADD;AAEXf,EAAAA,OAAO,EAAPA,OAFW;AAGXX,EAAAA,KAAK,EAALA,KAHW;AAIXK,EAAAA,SAAS,EAATA;AAJW,CAAf","sourcesContent":["import { Login } from \"@/api/login\";\r\nimport {\r\n    setToken,\r\n    setuserLoc,\r\n    setuserName,\r\n    getuserName,\r\n    getuserLoc\r\n} from \"../../utils/cookie\";\r\nimport {set } from \"cookie_js\";\r\n\r\n//登录模块\r\nconst state = {\r\n    toKen: \"\",\r\n    userName: getuserName() || \"\",\r\n    userLoc: getuserLoc() || \"\",\r\n    module: \"\"\r\n};\r\n\r\nconst mutations = {\r\n    SET_TOKEN(state, value) {\r\n        state.toKen = value;\r\n    },\r\n    SET_USERNAME(state, value) {\r\n        state.userName = value;\r\n    },\r\n    SET_USERLOC(state, value) {\r\n        state.userLoc = value;\r\n    },\r\n    SET_MODULE(state, value) {\r\n        state.module = value;\r\n    }\r\n};\r\n\r\nconst actions = {\r\n    login(content, requestData) {\r\n        return new Promise((resolve, reject) => {\r\n            //接口\r\n            Login(requestData)\r\n                .then(response => {\r\n                    let data = response.data.data;\r\n                    content.commit(\"SET_USERNAME\", requestData.userName);\r\n                    content.commit(\"SET_TOKEN\", data.token);\r\n                    content.commit(\"SET_USERLOC\", data.userLoc);\r\n                    setToken(data.token);\r\n                    setuserLoc(data.userLoc);\r\n                    setuserName(requestData.userName);\r\n                    resolve(response);\r\n                })\r\n                .catch(error => {\r\n                    reject(error);\r\n                });\r\n        });\r\n    },\r\n    setModule(content, value) {\r\n        return content.commit(\"SET_MODULE\", value);\r\n    }\r\n};\r\n\r\nexport default {\r\n    namespaced: true,\r\n    actions,\r\n    state,\r\n    mutations\r\n};"]}]}