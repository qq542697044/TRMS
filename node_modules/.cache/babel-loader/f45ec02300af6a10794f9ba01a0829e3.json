{"remainingRequest":"E:\\Github\\code\\TRMS\\node_modules\\babel-loader\\lib\\index.js!E:\\Github\\code\\TRMS\\src\\store\\moudels\\login.js","dependencies":[{"path":"E:\\Github\\code\\TRMS\\src\\store\\moudels\\login.js","mtime":1583506836753},{"path":"E:\\Github\\code\\TRMS\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Github\\code\\TRMS\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCB7IExvZ2luIH0gZnJvbSAiQC9hcGkvbG9naW4iOwppbXBvcnQgeyBzZXRUb2tlbiwgc2V0dXNlckxvYywgc2V0dXNlck5hbWUsIGdldHVzZXJOYW1lLCBnZXR1c2VyTG9jIH0gZnJvbSAiLi4vLi4vdXRpbHMvY29va2llIjsKdmFyIHN0YXRlID0gewogIHRvS2VuOiAnJywKICB1c2VyTmFtZTogZ2V0dXNlck5hbWUoKSB8fCAnJywKICB1c2VyTG9jOiBnZXR1c2VyTG9jKCkgfHwgJycKfTsKdmFyIG11dGF0aW9ucyA9IHsKICBTRVRfVE9LRU46IGZ1bmN0aW9uIFNFVF9UT0tFTihzdGF0ZSwgdmFsdWUpIHsKICAgIHN0YXRlLnRvS2VuID0gdmFsdWU7CiAgfSwKICBTRVRfVVNFUk5BTUU6IGZ1bmN0aW9uIFNFVF9VU0VSTkFNRShzdGF0ZSwgdmFsdWUpIHsKICAgIHN0YXRlLnVzZXJOYW1lID0gdmFsdWU7CiAgfSwKICBTRVRfVVNFUkxPQzogZnVuY3Rpb24gU0VUX1VTRVJMT0Moc3RhdGUsIHZhbHVlKSB7CiAgICBzdGF0ZS51c2VyTG9jID0gdmFsdWU7CiAgfQp9Owp2YXIgYWN0aW9ucyA9IHsKICBsb2dpbjogZnVuY3Rpb24gbG9naW4oY29udGVudCwgcmVxdWVzdERhdGEpIHsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIC8v5o6l5Y+jICAgICAgCiAgICAgIExvZ2luKHJlcXVlc3REYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHZhciBkYXRhID0gcmVzcG9uc2UuZGF0YS5kYXRhOwogICAgICAgIGNvbnRlbnQuY29tbWl0KCdTRVRfVVNFUk5BTUUnLCByZXF1ZXN0RGF0YS51c2VyTmFtZSk7CiAgICAgICAgY29udGVudC5jb21taXQoJ1NFVF9UT0tFTicsIGRhdGEudG9rZW4pOwogICAgICAgIGNvbnRlbnQuY29tbWl0KCdTRVRfVVNFUkxPQycsIGRhdGEudXNlckxvYyk7CiAgICAgICAgc2V0VG9rZW4oZGF0YS50b2tlbik7CiAgICAgICAgc2V0dXNlckxvYyhkYXRhLnVzZXJMb2MpOwogICAgICAgIHNldHVzZXJOYW1lKHJlcXVlc3REYXRhLnVzZXJOYW1lKTsKICAgICAgICByZXNvbHZlKHJlc3BvbnNlKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgcmVqZWN0KGVycm9yKTsKICAgICAgfSk7CiAgICB9KTsKICB9Cn07CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lc3BhY2VkOiB0cnVlLAogIGFjdGlvbnM6IGFjdGlvbnMsCiAgc3RhdGU6IHN0YXRlLAogIG11dGF0aW9uczogbXV0YXRpb25zCn07"},{"version":3,"sources":["E:/Github/code/TRMS/src/store/moudels/login.js"],"names":["Login","setToken","setuserLoc","setuserName","getuserName","getuserLoc","state","toKen","userName","userLoc","mutations","SET_TOKEN","value","SET_USERNAME","SET_USERLOC","actions","login","content","requestData","Promise","resolve","reject","then","response","data","commit","token","catch","error","namespaced"],"mappings":";AAAA,SAASA,KAAT,QAAsB,aAAtB;AACA,SAASC,QAAT,EAAmBC,UAAnB,EAA+BC,WAA/B,EAA4CC,WAA5C,EAAyDC,UAAzD,QAA2E,oBAA3E;AAGA,IAAMC,KAAK,GAAG;AACVC,EAAAA,KAAK,EAAE,EADG;AAEVC,EAAAA,QAAQ,EAAEJ,WAAW,MAAM,EAFjB;AAGVK,EAAAA,OAAO,EAAEJ,UAAU,MAAM;AAHf,CAAd;AAMA,IAAMK,SAAS,GAAG;AACdC,EAAAA,SADc,qBACJL,KADI,EACGM,KADH,EACU;AACpBN,IAAAA,KAAK,CAACC,KAAN,GAAcK,KAAd;AACH,GAHa;AAIdC,EAAAA,YAJc,wBAIDP,KAJC,EAIMM,KAJN,EAIa;AACvBN,IAAAA,KAAK,CAACE,QAAN,GAAiBI,KAAjB;AACH,GANa;AAOdE,EAAAA,WAPc,uBAOFR,KAPE,EAOKM,KAPL,EAOY;AACtBN,IAAAA,KAAK,CAACG,OAAN,GAAgBG,KAAhB;AACH;AATa,CAAlB;AAYA,IAAMG,OAAO,GAAG;AACZC,EAAAA,KADY,iBACNC,OADM,EACGC,WADH,EACgB;AACxB,WAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpC;AACArB,MAAAA,KAAK,CAACkB,WAAD,CAAL,CAAmBI,IAAnB,CAAwB,UAACC,QAAD,EAAc;AAClC,YAAIC,IAAI,GAAGD,QAAQ,CAACC,IAAT,CAAcA,IAAzB;AACAP,QAAAA,OAAO,CAACQ,MAAR,CAAe,cAAf,EAA+BP,WAAW,CAACV,QAA3C;AACAS,QAAAA,OAAO,CAACQ,MAAR,CAAe,WAAf,EAA4BD,IAAI,CAACE,KAAjC;AACAT,QAAAA,OAAO,CAACQ,MAAR,CAAe,aAAf,EAA8BD,IAAI,CAACf,OAAnC;AACAR,QAAAA,QAAQ,CAACuB,IAAI,CAACE,KAAN,CAAR;AACAxB,QAAAA,UAAU,CAACsB,IAAI,CAACf,OAAN,CAAV;AACAN,QAAAA,WAAW,CAACe,WAAW,CAACV,QAAb,CAAX;AACAY,QAAAA,OAAO,CAACG,QAAD,CAAP;AACH,OATD,EASGI,KATH,CASS,UAAAC,KAAK,EAAI;AAEdP,QAAAA,MAAM,CAACO,KAAD,CAAN;AACH,OAZD;AAaH,KAfM,CAAP;AAiBH;AAnBW,CAAhB;AAsBA,eAAe;AACXC,EAAAA,UAAU,EAAE,IADD;AAEXd,EAAAA,OAAO,EAAPA,OAFW;AAGXT,EAAAA,KAAK,EAALA,KAHW;AAIXI,EAAAA,SAAS,EAATA;AAJW,CAAf","sourcesContent":["import { Login } from \"@/api/login\"\r\nimport { setToken, setuserLoc, setuserName, getuserName, getuserLoc } from \"../../utils/cookie\"\r\n\r\n\r\nconst state = {\r\n    toKen: '',\r\n    userName: getuserName() || '',\r\n    userLoc: getuserLoc() || '',\r\n};\r\n\r\nconst mutations = {\r\n    SET_TOKEN(state, value) {\r\n        state.toKen = value;\r\n    },\r\n    SET_USERNAME(state, value) {\r\n        state.userName = value;\r\n    },\r\n    SET_USERLOC(state, value) {\r\n        state.userLoc = value;\r\n    },\r\n}\r\n\r\nconst actions = {\r\n    login(content, requestData) {\r\n        return new Promise((resolve, reject) => {\r\n            //接口      \r\n            Login(requestData).then((response) => {\r\n                let data = response.data.data;\r\n                content.commit('SET_USERNAME', requestData.userName);\r\n                content.commit('SET_TOKEN', data.token);\r\n                content.commit('SET_USERLOC', data.userLoc);\r\n                setToken(data.token);\r\n                setuserLoc(data.userLoc);\r\n                setuserName(requestData.userName);\r\n                resolve(response);\r\n            }).catch(error => {\r\n\r\n                reject(error);\r\n            })\r\n        })\r\n\r\n    }\r\n}\r\n\r\nexport default {\r\n    namespaced: true,\r\n    actions,\r\n    state,\r\n    mutations\r\n};"]}]}