{"remainingRequest":"E:\\Github\\code\\TRMS\\node_modules\\babel-loader\\lib\\index.js!E:\\Github\\code\\TRMS\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\Github\\code\\TRMS\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Github\\code\\TRMS\\src\\views\\User\\module\\resc.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\Github\\code\\TRMS\\src\\views\\User\\module\\resc.vue","mtime":1584629749922},{"path":"E:\\Github\\code\\TRMS\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Github\\code\\TRMS\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\Github\\code\\TRMS\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Github\\code\\TRMS\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgcmVmLCBvbk1vdW50ZWQsIHJlYWN0aXZlLCBjb21wdXRlZCB9IGZyb20gIkB2dWUvY29tcG9zaXRpb24tYXBpIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJyZXNjLW1vYmlsZSIsCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKHByb3BzLCBfcmVmKSB7CiAgICB2YXIgcm9vdCA9IF9yZWYucm9vdDsKICAgIHZhciByZXNEYXRhID0gcmVhY3RpdmUoewogICAgICBpdGVtOiBbXQogICAgfSk7IC8v5YiG57G75p+l6K+iCgogICAgdmFyIHNlYXJjaF9mb3JtID0gcmVhY3RpdmUoewogICAgICB0eXBlOiAiIiwKICAgICAgYWRkcjogIiIsCiAgICAgIHN1cHBsaWVyOiAiIiwKICAgICAgaWQ6ICIiCiAgICB9KTsgLy/liIbpobUKCiAgICB2YXIgY3VycmVudFBhZ2UgPSByZWYoMSk7CiAgICB2YXIgcGFnZVNpemUgPSByZWYoMTApOwogICAgdmFyIHRvdGFsID0gcmVmKDApOwogICAgdmFyIHBhZ2VDb250cm9sID0gcmVhY3RpdmUoewogICAgICBjb3VudDogMTAsCiAgICAgIGxvYWRpbmc6IGZhbHNlCiAgICB9KTsKICAgIHZhciBub01vcmUgPSBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBwYWdlQ29udHJvbC5jb3VudCA+PSB0b3RhbDsKICAgIH0pOwogICAgdmFyIGRpc2FibGVkID0gY29tcHV0ZWQoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gcGFnZUNvbnRyb2wubG9hZGluZyB8fCBub01vcmUudmFsdWU7CiAgICB9KTsKCiAgICB2YXIgbG9hZCA9IGZ1bmN0aW9uIGxvYWQoKSB7CiAgICAgIHBhZ2VDb250cm9sLmxvYWRpbmcgPSB0cnVlOwogICAgICBjdXJyZW50UGFnZS52YWx1ZSArPSAxOwogICAgICBxdWVyeVJlcygpOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHt9LCAyMDAwKTsKICAgIH07IC8v5p+l6K+iCgoKICAgIHZhciBxdWVyeVJlcyA9IGZ1bmN0aW9uIHF1ZXJ5UmVzKCkgewogICAgICB2YXIgcmVxdWVzdERhdGEgPSB7CiAgICAgICAgdHlwZTogc2VhcmNoX2Zvcm0udHlwZSwKICAgICAgICBhZGRyZXNzOiBzZWFyY2hfZm9ybS5hZGRyLAogICAgICAgIHN1cHBsaWVyOiBzZWFyY2hfZm9ybS5zdXBwbGllciwKICAgICAgICBpZDogc2VhcmNoX2Zvcm0uaWQsCiAgICAgICAgcGFnZU51bWJlcjogY3VycmVudFBhZ2UudmFsdWUsCiAgICAgICAgcGFnZVNpemU6IHBhZ2VTaXplLnZhbHVlCiAgICAgIH07CiAgICAgIHJvb3QuJHN0b3JlLmRpc3BhdGNoKCJyZXNjL3F1ZXJ5X3Jlc291cmNlIiwgcmVxdWVzdERhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgdmFyIERhdGEgPSByZXNwb25zZS5kYXRhLmRhdGEuZGF0YTsKICAgICAgICAvKui/lOWbnuaXtumXtOaVsOaNruagvOW8j+WkhOeQhiAqLwogICAgICAgIC8vIHJlc0RhdGEuZm9yRWFjaChpdGVtPT57CiAgICAgICAgLy8gICBpdGVtLmNyZWF0ZWREYXRlPe+8mwogICAgICAgIC8vICAgaXRlbS5tb2RpZmllZERhdGU9OwogICAgICAgIC8vIH0pCgogICAgICAgIHJlc0RhdGEuaXRlbSA9IERhdGE7CiAgICAgICAgdG90YWwudmFsdWUgPSByZXNwb25zZS5kYXRhLmRhdGEudG90YWw7CiAgICAgICAgcGFnZUNvbnRyb2wuY291bnQgKz0gcGFnZVNpemUudmFsdWU7CiAgICAgICAgcGFnZUNvbnRyb2wubG9hZGluZyA9IGZhbHNlOwogICAgICAgIGNvbnNvbGUubG9nKG5vTW9yZS52YWx1ZSk7CiAgICAgICAgY29uc29sZS5sb2coZGlzYWJsZWQudmFsdWUpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHt9KTsKICAgIH07CgogICAgb25Nb3VudGVkKGZ1bmN0aW9uICgpIHt9KTsKICAgIHJldHVybiB7CiAgICAgIG5vTW9yZTogbm9Nb3JlLAogICAgICBkaXNhYmxlZDogZGlzYWJsZWQsCiAgICAgIC8vcmVmCiAgICAgIC8vcmVhY3RpdmUKICAgICAgcmVzRGF0YTogcmVzRGF0YSwKICAgICAgcGFnZUNvbnRyb2w6IHBhZ2VDb250cm9sLAogICAgICAvL21ldGhvZHMKICAgICAgbG9hZDogbG9hZAogICAgfTsKICB9Cn07"},{"version":3,"sources":["resc.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA,SAAA,GAAA,EAAA,SAAA,EAAA,QAAA,EAAA,QAAA,QAAA,sBAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,aADA;AAEA,EAAA,KAFA,iBAEA,KAFA,QAEA;AAAA,QAAA,IAAA,QAAA,IAAA;AACA,QAAA,OAAA,GAAA,QAAA,CAAA;AACA,MAAA,IAAA,EAAA;AADA,KAAA,CAAA,CADA,CAIA;;AACA,QAAA,WAAA,GAAA,QAAA,CAAA;AACA,MAAA,IAAA,EAAA,EADA;AAEA,MAAA,IAAA,EAAA,EAFA;AAGA,MAAA,QAAA,EAAA,EAHA;AAIA,MAAA,EAAA,EAAA;AAJA,KAAA,CAAA,CALA,CAWA;;AACA,QAAA,WAAA,GAAA,GAAA,CAAA,CAAA,CAAA;AACA,QAAA,QAAA,GAAA,GAAA,CAAA,EAAA,CAAA;AACA,QAAA,KAAA,GAAA,GAAA,CAAA,CAAA,CAAA;AACA,QAAA,WAAA,GAAA,QAAA,CAAA;AACA,MAAA,KAAA,EAAA,EADA;AAEA,MAAA,OAAA,EAAA;AAFA,KAAA,CAAA;AAIA,QAAA,MAAA,GAAA,QAAA,CAAA;AAAA,aAAA,WAAA,CAAA,KAAA,IAAA,KAAA;AAAA,KAAA,CAAA;AAEA,QAAA,QAAA,GAAA,QAAA,CAAA;AAAA,aAAA,WAAA,CAAA,OAAA,IAAA,MAAA,CAAA,KAAA;AAAA,KAAA,CAAA;;AACA,QAAA,IAAA,GAAA,SAAA,IAAA,GAAA;AACA,MAAA,WAAA,CAAA,OAAA,GAAA,IAAA;AACA,MAAA,WAAA,CAAA,KAAA,IAAA,CAAA;AACA,MAAA,QAAA;AACA,MAAA,UAAA,CAAA,YAAA,CAEA,CAFA,EAEA,IAFA,CAAA;AAGA,KAPA,CAtBA,CA8BA;;;AACA,QAAA,QAAA,GAAA,SAAA,QAAA,GAAA;AACA,UAAA,WAAA,GAAA;AACA,QAAA,IAAA,EAAA,WAAA,CAAA,IADA;AAEA,QAAA,OAAA,EAAA,WAAA,CAAA,IAFA;AAGA,QAAA,QAAA,EAAA,WAAA,CAAA,QAHA;AAIA,QAAA,EAAA,EAAA,WAAA,CAAA,EAJA;AAKA,QAAA,UAAA,EAAA,WAAA,CAAA,KALA;AAMA,QAAA,QAAA,EAAA,QAAA,CAAA;AANA,OAAA;AAQA,MAAA,IAAA,CAAA,MAAA,CACA,QADA,CACA,qBADA,EACA,WADA,EAEA,IAFA,CAEA,UAAA,QAAA,EAAA;AACA,YAAA,IAAA,GAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA;AACA;AACA;AACA;AACA;AACA;;AACA,QAAA,OAAA,CAAA,IAAA,GAAA,IAAA;AACA,QAAA,KAAA,CAAA,KAAA,GAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,KAAA;AACA,QAAA,WAAA,CAAA,KAAA,IAAA,QAAA,CAAA,KAAA;AACA,QAAA,WAAA,CAAA,OAAA,GAAA,KAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,MAAA,CAAA,KAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,QAAA,CAAA,KAAA;AACA,OAfA,EAgBA,KAhBA,CAgBA,UAAA,KAAA,EAAA,CAAA,CAhBA;AAiBA,KA1BA;;AA4BA,IAAA,SAAA,CAAA,YAAA,CACA,CADA,CAAA;AAEA,WAAA;AACA,MAAA,MAAA,EAAA,MADA;AAEA,MAAA,QAAA,EAAA,QAFA;AAGA;AACA;AACA,MAAA,OAAA,EAAA,OALA;AAMA,MAAA,WAAA,EAAA,WANA;AAOA;AACA,MAAA,IAAA,EAAA;AARA,KAAA;AAUA;AAzEA,CAAA","sourcesContent":["<template>\r\n  <div id=\"resc-mobile\">\r\n    <ul class=\"infinite-list\" v-infinite-scroll=\"load\"  style=\"overflow:auto\">\r\n      <li v-for=\"(item,index) in resData.item\" :key=\"item.id\">\r\n        <div class=\"float-left card-box\">\r\n          <el-card :body-style=\"{ padding: '0px',width:'250px',border:'solid 1px #f0f0f0'}\" shadow=\"hover\">\r\n            <div style=\"padding: 14px;\">\r\n                <h3>资源{{index+1}}</h3>\r\n              <div>\r\n                <el-form label-position=\"left\" inline class=\"demo-table-expand\">\r\n                  <el-form-item label=\"编号\">\r\n                    <span>{{ item.id }}</span>\r\n                  </el-form-item>\r\n                  <br />\r\n                  <el-form-item label=\"类型\">\r\n                    <span>{{ item.type }}</span>\r\n                  </el-form-item>\r\n                  <br />\r\n                  <el-form-item label=\"状态\">\r\n                    <span>{{ item.state }}</span>\r\n                  </el-form-item>\r\n                  <br />\r\n                  <el-form-item label=\"地址\">\r\n                    <span>{{ item.address }}</span>\r\n                  </el-form-item>\r\n                  <br />\r\n                  <el-form-item label=\"供应商\">\r\n                    <span>{{ item.supplier }}</span>\r\n                  </el-form-item>\r\n                </el-form>\r\n              </div>\r\n\r\n              <div class=\"bottom clearfix\">\r\n                <el-button type=\"text\" class=\"button\">操作</el-button>\r\n              </div>\r\n            </div>\r\n          </el-card>\r\n        </div>\r\n      </li>\r\n    </ul>\r\n    <p v-if=\"pageControl.loading\">加载中...</p>\r\n    <p v-if=\"noMore\">没有更多了</p>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { ref, onMounted, reactive, computed } from \"@vue/composition-api\";\r\nexport default {\r\n  name: \"resc-mobile\",\r\n  setup(props, { root }) {\r\n    const resData = reactive({\r\n      item: []\r\n    });\r\n    //分类查询\r\n    const search_form = reactive({\r\n      type: \"\",\r\n      addr: \"\",\r\n      supplier: \"\",\r\n      id: \"\"\r\n    });\r\n    //分页\r\n    const currentPage = ref(1);\r\n    const pageSize = ref(10);\r\n    const total = ref(0);\r\n    const pageControl = reactive({\r\n      count: 10,\r\n      loading: false\r\n    });\r\n    const noMore = computed(() => pageControl.count >= total);\r\n\r\n    const disabled=computed(() => pageControl.loading || noMore.value);\r\n    const load = () => {\r\n      pageControl.loading = true;\r\n      currentPage.value+=1;\r\n      queryRes();\r\n      setTimeout(() => {\r\n        \r\n      }, 2000);\r\n    };\r\n    //查询\r\n    const queryRes = () => {\r\n      let requestData = {\r\n        type: search_form.type,\r\n        address: search_form.addr,\r\n        supplier: search_form.supplier,\r\n        id: search_form.id,\r\n        pageNumber: currentPage.value,\r\n        pageSize: pageSize.value\r\n      };\r\n      root.$store\r\n        .dispatch(\"resc/query_resource\", requestData)\r\n        .then(response => {\r\n          let Data = response.data.data.data;\r\n          /*返回时间数据格式处理 */\r\n          // resData.forEach(item=>{\r\n          //   item.createdDate=；\r\n          //   item.modifiedDate=;\r\n          // })\r\n          resData.item = Data;\r\n          total.value = response.data.data.total;\r\n          pageControl.count += pageSize.value;\r\n          pageControl.loading = false;\r\n          console.log(noMore.value)\r\n          console.log(disabled.value)\r\n        })\r\n        .catch(error => {});\r\n    };\r\n\r\n    onMounted(() => {\r\n    });\r\n    return {\r\n      noMore,\r\n      disabled,\r\n      //ref\r\n      //reactive\r\n      resData,\r\n      pageControl,\r\n      //methods\r\n      load\r\n    };\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.card-box {\r\n  margin: 5px;\r\n}\r\n</style>"],"sourceRoot":"src/views/User/module"}]}