{"remainingRequest":"E:\\Github\\code\\vue1\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Github\\code\\vue1\\src\\views\\Login\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\Github\\code\\vue1\\src\\views\\Login\\index.vue","mtime":1582601461612},{"path":"E:\\Github\\code\\vue1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Github\\code\\vue1\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\Github\\code\\vue1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Github\\code\\vue1\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJsb2dpbiIsDQogIGRhdGEoKSB7DQogICAgdmFyIHZhbGlkYXRldXNlck5hbWUgPSAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7DQogICAgICB2YXIgcmVnID0gL15bYS16QS1aXVthLXpBLVowLTldezMsMTV9JC87DQogICAgICBpZiAodmFsdWUgPT09ICcnKSB7DQogICAgICAgIHJldHVybiBjYWxsYmFjayhuZXcgRXJyb3IoJ+eUqOaIt+WQjeS4jeiDveS4uuepuicpKTsNCiAgICAgIH1lbHNlIGlmKCFyZWcudGVzdCh2YWx1ZSkpew0KICAgICAgICByZXR1cm4gY2FsbGJhY2sobmV3IEVycm9yKCfnlKjmiLflkI3moLzlvI/mnInor68nKSk7DQogICAgICB9DQogICAgICBlbHNlIHsNCiAgICAgICAgY2FsbGJhY2soKTsNCiAgICAgIH0NCiAgICB9Ow0KICAgIHZhciB2YWxpZGF0ZVBhc3MgPSAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7DQogICAgICB2YXIgcmVnPS9eW2EtekEtWjAtOV17NiwxNX0kLzsNCiAgICAgIGlmICh2YWx1ZSA9PT0gJycpIHsNCiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCfor7fovpPlhaXlr4bnoIEnKSk7DQogICAgICB9IGVsc2UgaWYoIXJlZy50ZXN0KHZhbHVlKSl7DQogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcign5a+G56CB5bqU5Li66ZW/5bqmNi0xNeS9jeeahOWtl+avjeaVsOWtl+e7hOWQiCcpKTsNCiAgICAgIH0NCiAgICAgIGVsc2Ugew0KICAgICAgICBpZiAodGhpcy5ydWxlRm9ybS5jaGVja1Bhc3MgIT09ICcnKSB7DQogICAgICAgICAgdGhpcy4kcmVmcy5ydWxlRm9ybS52YWxpZGF0ZUZpZWxkKCdjaGVja1Bhc3MnKTsNCiAgICAgICAgfQ0KICAgICAgICBjYWxsYmFjaygpOw0KICAgICAgfQ0KICAgIH07DQogICAgdmFyIHZhbGlkYXRlUGFzczIgPSAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7DQogICAgICBpZiAodmFsdWUgPT09ICcnKSB7DQogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcign6K+35YaN5qyh6L6T5YWl5a+G56CBJykpOw0KICAgICAgfSBlbHNlIGlmICh2YWx1ZSAhPT0gdGhpcy5ydWxlRm9ybS5wYXNzKSB7DQogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcign5Lik5qyh6L6T5YWl5a+G56CB5LiN5LiA6Ie0IScpKTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGNhbGxiYWNrKCk7DQogICAgICB9DQogICAgfTsNCiAgICByZXR1cm4gew0KICAgICAgdHlwZTondXNlcicsDQogICAgICBtZW51VGFiOlsNCiAgICAgICAge3RleHQ6J+eZu+W9lScsY3VycmVudDp0cnVlLHR5cGU6J3VzZXInfSwNCiAgICAgICAge3RleHQ6J+azqOWGjCcsY3VycmVudDpmYWxzZSx0eXBlOidzaWdudXAnfSwNCiAgICAgICAge3RleHQ6J+euoeeQhuWRmCcsY3VycmVudDpmYWxzZSx0eXBlOidhZG1pbid9DQogICAgICBdLA0KICAgICAgcnVsZUZvcm06IHsNCiAgICAgICAgdXNlTmFtZTogJycsDQogICAgICAgIHVzZXJQYXNzOiAnJywNCiAgICAgICAgY2hlY2tQYXNzOiAnJw0KICAgICAgICANCiAgICAgIH0sDQogICAgICBydWxlczogew0KICAgICAgIHVzZXJOYW1lOiBbDQogICAgICAgICAgeyB2YWxpZGF0b3I6IHZhbGlkYXRldXNlck5hbWUsIHRyaWdnZXI6ICdibHVyJyB9DQogICAgICAgIF0sDQogICAgICAgIHVzZXJQYXNzOiBbDQogICAgICAgICAgeyB2YWxpZGF0b3I6IHZhbGlkYXRlUGFzcywgdHJpZ2dlcjogJ2JsdXInIH0NCiAgICAgICAgXSwNCiAgICAgICAgY2hlY2tQYXNzOiBbDQogICAgICAgICAgeyB2YWxpZGF0b3I6IHZhbGlkYXRlUGFzczIsIHRyaWdnZXI6ICdibHVyJyB9DQogICAgICAgIF0NCiAgICAgIH0gIA0KICAgIH07DQogIH0sDQogIGNyZWF0ZWQoKSB7fSwNCiAgbW91bnRlZCgpIHt9LA0KICBtZXRob2RzOiB7DQogICAgdG9nZ2xlTWVudTpmdW5jdGlvbihkYXRhKXsNCiAgICAgdGhpcy4kcmVmc1sncnVsZUZvcm0nXS5yZXNldEZpZWxkcygpOw0KICAgICB0aGlzLm1lbnVUYWIuZm9yRWFjaChlbGVtZW50ID0+IHsNCiAgICAgICAgZWxlbWVudC5jdXJyZW50PWZhbHNlOw0KICAgICAgfSk7DQogICAgICBkYXRhLmN1cnJlbnQ9dHJ1ZTsNCiAgICAgIGlmKGRhdGEudHlwZT09J3NpZ251cCcpew0KICAgICAgICB0aGlzLnR5cGU9J3NpZ251cCc7DQogICAgICB9ZWxzZSBpZihkYXRhLnR5cGU9PSd1c2VyJyl7DQogICAgICAgIHRoaXMudHlwZT0ndXNlcic7DQogICAgICB9ZWxzZXsNCiAgICAgICAgdGhpcy50eXBlPSdhZG1pbic7DQogICAgICB9DQogICAgfSwNCiAgICBzdWJtaXRGb3JtKGZvcm1OYW1lKSB7DQogICAgICAgIHRoaXMuJHJlZnNbZm9ybU5hbWVdLnZhbGlkYXRlKCh2YWxpZCkgPT4gew0KICAgICAgICAgIGlmICh2YWxpZCkgew0KICAgICAgICAgICAgYWxlcnQoJ3N1Ym1pdCEnKTsNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yIHN1Ym1pdCEhJyk7DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICB9LA0KICB9DQp9Ow0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/Login","sourcesContent":["<template>\r\n  <div id=\"login\">\r\n    <div class=\"cover\"><p>交通资源管理系统</p></div>\r\n    <div class=\"login-wrap\">\r\n      <ul class=\"menu-tab\">\r\n        <li v-for=\"item in menuTab\" :key=\"item.id\" :class=\"{'current':item.current}\" @click=\"toggleMenu(item)\">{{item.text}}</li>\r\n      </ul>\r\n      <!-- 表单 --> \r\n      <el-form :model=\"ruleForm\" status-icon :rules=\"rules\" ref=\"ruleForm\" class=\"login-form\" size=\"medium\">\r\n        <el-form-item prop=\"userName\" class=\"item-form\">\r\n          <label for=\"\">用户名</label>\r\n        <el-input type=\"text\" v-model=\"ruleForm.userName\" maxlength=\"15\"></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item prop=\"userPass\" class=\"item-form\">\r\n          <label for=\"\">密码</label>\r\n        <el-input type=\"password\" v-model=\"ruleForm.userPass\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item prop=\"checkPass\" class=\"item-form\" v-if=\"type=='signup'\">\r\n          <label for=\"\">确认密码</label>\r\n        <el-input type=\"password\" v-model=\"ruleForm.checkPass\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item>\r\n        <el-button type=\"primary\" @click=\"submitForm('ruleForm')\" class=\"login-btn block\" v-if=\"type=='user'\">登录</el-button>\r\n        <el-button type=\"danger\" @click=\"submitForm('ruleForm')\" class=\"login-btn block\" v-if=\"type=='signup'\">注册</el-button>\r\n        <el-button type=\"danger\" @click=\"submitForm('ruleForm')\" class=\"login-btn block\" v-if=\"type=='admin'\">登录</el-button>\r\n        </el-form-item>\r\n\r\n      </el-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"login\",\r\n  data() {\r\n    var validateuserName = (rule, value, callback) => {\r\n      var reg = /^[a-zA-Z][a-zA-Z0-9]{3,15}$/;\r\n      if (value === '') {\r\n        return callback(new Error('用户名不能为空'));\r\n      }else if(!reg.test(value)){\r\n        return callback(new Error('用户名格式有误'));\r\n      }\r\n      else {\r\n        callback();\r\n      }\r\n    };\r\n    var validatePass = (rule, value, callback) => {\r\n      var reg=/^[a-zA-Z0-9]{6,15}$/;\r\n      if (value === '') {\r\n        callback(new Error('请输入密码'));\r\n      } else if(!reg.test(value)){\r\n        callback(new Error('密码应为长度6-15位的字母数字组合'));\r\n      }\r\n      else {\r\n        if (this.ruleForm.checkPass !== '') {\r\n          this.$refs.ruleForm.validateField('checkPass');\r\n        }\r\n        callback();\r\n      }\r\n    };\r\n    var validatePass2 = (rule, value, callback) => {\r\n      if (value === '') {\r\n        callback(new Error('请再次输入密码'));\r\n      } else if (value !== this.ruleForm.pass) {\r\n        callback(new Error('两次输入密码不一致!'));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    return {\r\n      type:'user',\r\n      menuTab:[\r\n        {text:'登录',current:true,type:'user'},\r\n        {text:'注册',current:false,type:'signup'},\r\n        {text:'管理员',current:false,type:'admin'}\r\n      ],\r\n      ruleForm: {\r\n        useName: '',\r\n        userPass: '',\r\n        checkPass: ''\r\n        \r\n      },\r\n      rules: {\r\n       userName: [\r\n          { validator: validateuserName, trigger: 'blur' }\r\n        ],\r\n        userPass: [\r\n          { validator: validatePass, trigger: 'blur' }\r\n        ],\r\n        checkPass: [\r\n          { validator: validatePass2, trigger: 'blur' }\r\n        ]\r\n      }  \r\n    };\r\n  },\r\n  created() {},\r\n  mounted() {},\r\n  methods: {\r\n    toggleMenu:function(data){\r\n     this.$refs['ruleForm'].resetFields();\r\n     this.menuTab.forEach(element => {\r\n        element.current=false;\r\n      });\r\n      data.current=true;\r\n      if(data.type=='signup'){\r\n        this.type='signup';\r\n      }else if(data.type=='user'){\r\n        this.type='user';\r\n      }else{\r\n        this.type='admin';\r\n      }\r\n    },\r\n    submitForm(formName) {\r\n        this.$refs[formName].validate((valid) => {\r\n          if (valid) {\r\n            alert('submit!');\r\n          } else {\r\n            console.log('error submit!!');\r\n            return false;\r\n          }\r\n        });\r\n    },\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n#login {\r\n  height: 100vh;\r\n  background-color: #344a5f;\r\n}\r\n\r\n.cover{\r\n  height: 72px;\r\n  font-size: 40px;\r\n  line-height: 72px;\r\n  color: #fff;\r\n  text-align: center;\r\n}\r\n\r\n.login-wrap{\r\n  width:330px;\r\n  margin:auto;\r\n}\r\n\r\n.menu-tab{\r\n  text-align: center;\r\n  li{\r\n    display: inline-block;\r\n    width:88px;\r\n    line-height: 36px;\r\n    font-size: 14px;\r\n    color:#fff;\r\n    border-radius: 2px;\r\n    cursor: pointer;\r\n  }\r\n  .current{\r\n    background-color: rgba(0,0,0, 0.1);\r\n  }\r\n}\r\n\r\n.login-form{\r\n  margin-top:29px;\r\n  label {\r\n    display: block;\r\n    margin-bottom: 3px;\r\n    font-size: 14px;\r\n    color: #fff;\r\n  }\r\n  .item-form{\r\n    margin-bottom: 13px;\r\n  }\r\n  .block{\r\n    display: block;\r\n    width: 100%;\r\n  }\r\n  .login-btn{\r\n    margin-top: 19px;\r\n  }\r\n}\r\n</style>\r\n"]}]}